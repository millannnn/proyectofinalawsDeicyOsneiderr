# proyectofinalawsDeicyOsneiderr
Proyecto final aws computación en la nube Deicy-Osneider

El proyecto final se crea en el nodejs18.x donde en el archivo de handler se crean las funciones de post y get

En primera instancia en el archivo handler se realiza una declaración de módulos y configuración de la base de datos utilizando el "use strict" al principio para habilitar el modo estricto de JavaScript, después se importan varios módulos de Node.js, incluyendo aws-sdk (que se usa para interactuar con servicios de AWS como SQS y SES) y mysql (para interactuar con una base de datos MySQL). Se configura la conexión a la base de datos MySQL especificando el host, usuario, puerto, contraseña y base de datos a la que se conectará.

Seguidamente se realiza la primera función de POST llamada realizarfinalpedidosaws: Esta función se exporta y se utilizará como una función Lambda en AWS, Parsea los datos enviados en el evento utilizando querystring.parse(); posteriormente se realiza una inserción en la base de datos MySQL utilizando una consulta parametrizada mediante connection.query(). Los datos para la inserción provienen de la solicitud HTTP. crea un objeto messageBody, Prepara un mensaje para enviar a una cola SQS, Prepara un correo electrónico utilizando el servicio de AWS Simple Email Service (SES) y finalmente, devuelve una respuesta HTTP con un código de estado 200 y un cuerpo JSON que contiene detalles sobre el pedido realizado.
Por ultimo pero no menos importante se realiza la función GET recibirfinalpedidosaws la cual también se exporta y se usa como una función Lambda en AWS la cual Obtiene el parámetro de consulta "id" del evento, que se espera que contenga el ID del pedido que se desea consultar, realiza una consulta a la base de datos MySQL y por ultimo devuelve una respuesta HTTP con un código de estado 200 y un cuerpo JSON que contiene los detalles del pedido consultado.

Por otro lado tenemos el yml el cual tiene un Service Name y Framework Version donde se define el nombre del servicio en AWS. En este caso, se llama "proyecto-final-pedidos" y el frameworkVersion: "3" que especifica la versión del framework Serverless que se está utilizando. En este caso, se utiliza la versión 3; seguidamente tenemos un Provider el cual configura el proveedor de servicios, que en este caso es AWS, tenemos dos Functions que definen las funciones que se desplegarán en AWS. En este caso, realizarfinalpedidosaws y recibirfinalpedidosaws cada función especificando su manejador es decir el archivo handler, tenemos un resources que define los recursos de infraestructura como por ejemplo un bucket de Amazon S3 llamado order-backup-bucket-trabajo-final-osneiderdeicy con una configuración de ciclo de vida para eliminar objetos después de dos días, tenemos una instancia de base de datos RDS (Relational Database Service) de MySQL llamada Basededatosdeos con varias configuraciones, incluyendo el nombre de la base de datos, el tamaño de almacenamiento, el tipo de instancia, la versión de MySQL, el nombre de usuario y la contraseña, Un grupo de seguridad de EC2 (Security Group) llamado RDSSecurityGroupIngress que permite el tráfico TCP en el puerto 3306 (el puerto de MySQL) desde cualquier dirección IP (0.0.0.0/0), y por ultimo un AWS CloudFormation Resources la cual describe los recursos de AWS CloudFormation generados automáticamente por el framework Serverless para crear los recursos definidos anteriormente en AWS.
En resumen, tenemos un archivo de configuración definiendo funciones que se ejecutarán en respuesta a las solicitudes HTTP y recursos de infraestructura necesarios en AWS, como un bucket S3 para copias de seguridad y una base de datos MySQL. Cuando nosotros o x o y persona despliegue dicho archivo .yml este crearán automáticamente los recursos en AWS y se configurarán las rutas de invocación para las funciones, para estos casos utilizaremos el sls deploy en la terminal de tu maquina.
